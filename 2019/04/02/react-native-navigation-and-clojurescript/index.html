<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/><style data-href="/styles.131b48b25a50eff60b34.css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.4.2"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><style data-styled="hTmxqc lcZENV lfoWPa hPmQYh dANmgz brBAvj hpDnww bWPqAN hwkicN iTdcdb jRHVYT kQWgFX itRnbT jNHeyA hFicPH" data-styled-version="4.2.0">
/* sc-component-id: SideMenu__StyledBurgerMenu-uekpe8-0 */
.hTmxqc .bm-burger-button{position:fixed;width:36px;height:30px;left:36px;top:36px;} .hTmxqc .bm-burger-bars{background:#ffffff;} .hTmxqc .bm-cross-button{height:24px;width:24px;} .hTmxqc .bm-cross{background:#ffffff;} .hTmxqc .bm-menu{background:rgb(0,0,0,0.5);padding:2.5em 1em 0;font-size:1.15em;} .hTmxqc .bm-morph-shape{fill:#373a47;} .hTmxqc .bm-item-list{padding-top:2em;} .hTmxqc .bm-item{display:inline-block;padding:0.5em;} .hTmxqc .bm-overlay{background:rgba(0,0,0,0.3);}
/* sc-component-id: SideMenu__MenuLink-uekpe8-1 */
.lcZENV{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;border:0;margin:0;margin-right:0.5rem;padding-left:20px;padding-right:20px;min-width:42px;z-index:10;}
/* sc-component-id: Footer__FooterWrapper-sc-1oxe0wr-0 */
.hFicPH{text-align:left;padding-top:30px;padding-bottom:50px;background-color:rgba(32,35,42,0.85);color:#ffffff;padding-left:20px;padding-right:20px;margin:3.5em auto 0 0;} .hFicPH nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:900px;margin:0 auto;} .hFicPH nav .footer-col{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:1em;padding-right:1em;} .hFicPH a{color:#ffffff;font-weight:bold;} .hFicPH a:hover{color:#e8e8e8;border-bottom:1px dotted #e8e8e8;} .hFicPH .footer-col > p{margin:0;} .hFicPH .footer-title{margin:0 0 1rem;} .hFicPH .footer-item{padding:0.25rem 0;color:#ffffff;} .hFicPH .footer-heart{color:red;} .hFicPH .footer-item-text{padding:0.1rem 0;color:#ffffff;} .hFicPH .footer-header{-webkit-order:1;-ms-flex-order:1;order:1;margin:0 0.25rem;margin-right:0.25rem;padding:0.25rem;} @media (max-width:564px){.hFicPH .footer-col:first-child{width:100%;}}
/* sc-component-id: sc-global-3886539976 */
*{box-sizing:border-box;margin:0;padding:0;} body{font-family:"Lato",sans-serif;color:#222222cc;background-color:#e8e8e8;} img{max-width:100%;height:auto;vertical-align:middle;border:0;} a{-webkit-text-decoration:none;text-decoration:none;color:rgba(34,34,34,0.8);} ul,ol{padding-left:2em;margin:1em 0 0 0;}
/* sc-component-id: Wrapper-aej7i5-0 */
.hwkicN{position:relative;border-radius:3px;width:80%;max-width:770px;border-bottom:1px solid #ebf2f6;word-wrap:break-word;background-color:#fff;margin:0px auto 30px auto;top:30px;padding:50px;box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);} @media (max-width:780px){.hwkicN{width:90%;padding:25px;}}
/* sc-component-id: Hero__HeroContainer-sc-1i1rqpz-0 */
.lfoWPa{position:relative;display:table;width:100%;height:340px;overflow:hidden;background-repeat:no-repeat;background-position:center;background-size:cover;}
/* sc-component-id: Hero__TitleContainer-sc-1i1rqpz-1 */
.hPmQYh{display:table-cell;vertical-align:middle;text-align:center;width:100%;}
/* sc-component-id: Hero__HeroTitle-sc-1i1rqpz-3 */
.dANmgz{font-size:3.5rem;margin:10px 60px;color:#fff;text-shadow:2px 2px #222222;font-weight:800;font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;}
/* sc-component-id: Hero__HeroSubtitle-sc-1i1rqpz-4 */
.brBAvj{font-size:1.7rem;margin:10px 60px;color:#fff;text-shadow:2px 2px #222222;font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;}
/* sc-component-id: Hero__DateAndAuthor-sc-1i1rqpz-5 */
.hpDnww{font-weight:500;font-size:1.2rem;color:#fff;text-shadow:2px 2px #222222;}
/* sc-component-id: Hero__AuthorLink-sc-1i1rqpz-6 */
.bWPqAN{margin-left:0.3rem;font-weight:500;font-size:1.2rem;color:#fff;text-shadow:2px 2px #222222;} .bWPqAN:hover{border-bottom:1px dotted #787676;} .bWPqAN:before{content:'@';}
/* sc-component-id: TagList__ListContainer-sc-1uj42o2-0 */
.kQWgFX{display:inline;margin:0 0.5rem 0 0;color:#787676;}
/* sc-component-id: TagList__TagListItem-sc-1uj42o2-1 */
.itRnbT{margin-left:0.3rem;display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:middle;background-color:#777;border-radius:10px;} .itRnbT:hover{border-bottom:1px dotted #787676;}
/* sc-component-id: ContentHeader__Header-sc-1uw779c-0 */
.jRHVYT{margin-bottom:2rem;color:#787676;}
/* sc-component-id: Content__ContentBody-sc-1jppj8x-0 */
.jNHeyA{line-height:1.6;} .jNHeyA > *:first-child{padding-top:0;margin-top:0;} .jNHeyA > h1{margin-top:3rem;font-size:2em;} .jNHeyA > h2{margin-top:3rem;font-size:1.5em;} .jNHeyA > h3{padding-top:3rem;font-size:1.17em;} .jNHeyA > p{margin:1em 0 0 0;} .jNHeyA a{border-bottom:1px dotted rgba(162,162,162,0.8);} .jNHeyA a:hover{border-bottom-style:solid;} .jNHeyA a.anchor,.jNHeyA a.gatsby-resp-image-link{border:none;} .jNHeyA > blockquote{box-sizing:border-box;margin:1.75em 0 1.75em -2.2em;padding:0 0 0 1.75em;border-left:0.4em solid rgba(32,35,42,0.85);} .jNHeyA > blockquote p{margin:0.8em 0;font-style:italic;} .jNHeyA .gatsby-highlight{border-radius:5px;font-size:15px;line-height:1.7;background:#2d2d2d;color:#ffffff;border-radius:10px;overflow:auto;tab-size:1.5em;margin:1.5em 0em 1.5em 0;font-size:0.7em;} .jNHeyA .gatsby-highlight > pre{border:0;margin:0;padding:1;} .jNHeyA .gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.25em solid #ffa7c4;} .jNHeyA p > code.language-text,.jNHeyA li > code.language-text{background:rgba(255,229,100,0.2);color:#222222cc;padding:0 3px;font-size:0.94em;border-radius:0.3rem;} .jNHeyA table{margin-top:1em;border-collapse:collapse;border-radius:0.5em;overflow:hidden;} .jNHeyA table th,.jNHeyA table td{padding:0.5em;background:#e8e8e8;border-bottom:2px solid white;} .jNHeyA:not(pre) a code[class*='language-']{color:#222222cc;background-color:rgba(255,229,100,0.2);}
/* sc-component-id: Article__ArticleWrapper-sc-1nyoqfc-0 */
.iTdcdb{padding:0 30px 30px;} @media only screen and (max-width:500px){.iTdcdb{padding:0;}}</style><title data-react-helmet="true">React Native Navigation and ClojureScript | 040code</title><link data-react-helmet="true" rel="canonical" href="https://040code.github.io/2019/04/02/react-native-navigation-and-clojurescript"/><meta data-react-helmet="true" name="description" content="React Native Navigation and ClojureScriptA beginner‚Äôs guide to realizing proper navigation in a React Native application
using ClojureScript‚Ä¶"/><meta data-react-helmet="true" property="og:url" content="https://040code.github.io/2019/04/02/react-native-navigation-and-clojurescript"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="React Native Navigation and ClojureScript | 040code"/><meta data-react-helmet="true" property="og:description" content="React Native Navigation and ClojureScriptA beginner‚Äôs guide to realizing proper navigation in a React Native application
using ClojureScript‚Ä¶"/><meta data-react-helmet="true" property="og:image" content="https://040code.github.io/static/2019-04-02-react-native-navigation-and-clojurescript-fb-2c58e4982617b79dc23038d31876c0b0.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="niekos77"/><meta data-react-helmet="true" name="twitter:title" content="React Native Navigation and ClojureScript | 040code"/><meta data-react-helmet="true" name="twitter:description" content="React Native Navigation and ClojureScriptA beginner‚Äôs guide to realizing proper navigation in a React Native application
using ClojureScript‚Ä¶"/><meta data-react-helmet="true" name="twitter:image" content="https://040code.github.io/static/2019-04-02-react-native-navigation-and-clojurescript-tw-b31a8d3e2f965504587b4e29023d3a5a.png"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#222222"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-6e52eeb3246ca14c1467.js"/><link as="script" rel="preload" href="/app-621948f53dbdfc1c8bad.js"/><link as="script" rel="preload" href="/3-4d73c1baf9953aba24ed.js"/><link as="script" rel="preload" href="/1-90cb61cfcc26a11cdeca.js"/><link as="script" rel="preload" href="/styles-13d2ee47eddc5325ccbc.js"/><link as="script" rel="preload" href="/webpack-runtime-7d3f5bd1a5fa2448fa61.js"/><link as="fetch" rel="preload" href="/static/d/113/path---2019-04-02-react-native-navigation-and-clojurescript-f-04-9c4-RnsdsQeuJjfwQFmJiLQVuk4hU.json" crossorigin="use-credentials"/></head><body><noscript>This site runs best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="SideMenu__StyledBurgerMenu-uekpe8-0 hTmxqc"><div><div class="bm-overlay" style="position:fixed;z-index:1000;width:100%;height:100%;background:rgba(0, 0, 0, 0.3);opacity:0;-moz-transform:translate3d(100%, 0, 0);-ms-transform:translate3d(100%, 0, 0);-o-transform:translate3d(100%, 0, 0);-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);transition:opacity 0.3s, transform 0s 0.3s"></div><div id="" class="bm-menu-wrap" style="position:fixed;right:inherit;z-index:1100;width:300px;height:100%;-moz-transform:translate3d(-100%, 0, 0);-ms-transform:translate3d(-100%, 0, 0);-o-transform:translate3d(-100%, 0, 0);-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);transition:all 0.5s"><div class="bm-menu" style="height:100%;box-sizing:border-box;overflow:auto"><nav class="bm-item-list" style="height:100%"><a class="bm-item SideMenu__MenuLink-uekpe8-1 lcZENV" style="display:block" tabindex="-1" href="/">üè° 040 blog</a><a class="bm-item SideMenu__MenuLink-uekpe8-1 lcZENV" style="display:block" tabindex="-1" href="/about">About</a><a class="bm-item SideMenu__MenuLink-uekpe8-1 lcZENV" style="display:block" tabindex="-1" href="/authors/niek">Niek Palm</a><a class="bm-item SideMenu__MenuLink-uekpe8-1 lcZENV" style="display:block" tabindex="-1" href="/authors/maarten">Maarten Metz</a><a class="bm-item SideMenu__MenuLink-uekpe8-1 lcZENV" style="display:block" tabindex="-1" href="/authors/jeroen">Jeroen Knoops</a><a class="bm-item SideMenu__MenuLink-uekpe8-1 lcZENV" style="display:block" tabindex="-1" href="/authors/stefan">Stefan van den Oord</a></nav></div><div><div class="bm-cross-button" style="position:absolute;width:24px;height:24px;right:8px;top:8px"><span style="position:absolute;top:6px;right:14px"><span class="bm-cross" style="position:absolute;width:3px;height:14px;transform:rotate(45deg)"></span><span class="bm-cross" style="position:absolute;width:3px;height:14px;transform:rotate(-45deg)"></span></span><button style="position:absolute;left:0;top:0;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer" tabindex="-1">Close Menu</button></div></div></div><div><div class="bm-burger-button" style="z-index:1000"><span><span class="bm-burger-bars" style="position:absolute;height:20%;left:0;right:0;top:0%;opacity:1"></span><span class="bm-burger-bars" style="position:absolute;height:20%;left:0;right:0;top:40%;opacity:1"></span><span class="bm-burger-bars" style="position:absolute;height:20%;left:0;right:0;top:80%;opacity:1"></span></span><button style="position:absolute;left:0;top:0;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer">Open Menu</button></div></div></div></div><div style="margin:0 0"><div style="background-image:url(&quot;/static/background-a4a7d4ba06a7dbc7a26b196482b82095.jpg&quot;)" class="Hero__HeroContainer-sc-1i1rqpz-0 lfoWPa"><div class="Hero__TitleContainer-sc-1i1rqpz-1 hPmQYh"><h1 class="Hero__HeroTitle-sc-1i1rqpz-3 dANmgz">React Native Navigation and ClojureScript</h1><h2 class="Hero__HeroSubtitle-sc-1i1rqpz-4 brBAvj">A beginner&#x27;s guide to realizing proper navigation in a React Native application using ClojureScript and shadow-cljs</h2><span class="Hero__DateAndAuthor-sc-1i1rqpz-5 hpDnww">by:<!-- --> <a class="Hero__AuthorLink-sc-1i1rqpz-6 bWPqAN" href="/authors/stefan">stefan</a>¬† on <!-- -->2019-04-02</span></div></div><main role="main" class="Wrapper-aej7i5-0 hwkicN"><article class="Article__ArticleWrapper-sc-1nyoqfc-0 iTdcdb"><section><header class="ContentHeader__Header-sc-1uw779c-0 jRHVYT"><div class="TagList__ListContainer-sc-1uj42o2-0 kQWgFX"><a class="w3-round-size TagList__TagListItem-sc-1uj42o2-1 itRnbT" href="/tags/clojure">clojure</a> <a class="w3-round-size TagList__TagListItem-sc-1uj42o2-1 itRnbT" href="/tags/clojurescript">clojurescript</a> <a class="w3-round-size TagList__TagListItem-sc-1uj42o2-1 itRnbT" href="/tags/functional">functional</a> <a class="w3-round-size TagList__TagListItem-sc-1uj42o2-1 itRnbT" href="/tags/react">react</a> <a class="w3-round-size TagList__TagListItem-sc-1uj42o2-1 itRnbT" href="/tags/react-native">react-native</a> <a class="w3-round-size TagList__TagListItem-sc-1uj42o2-1 itRnbT" href="/tags/shadow-cljs">shadow-cljs</a></div></header><div class="Content__ContentBody-sc-1jppj8x-0 jNHeyA"><h1 id="react-native-navigation-and-clojurescript"><a href="#react-native-navigation-and-clojurescript" aria-label="react native navigation and clojurescript permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React Native Navigation and ClojureScript</h1>
<p><em>A beginner‚Äôs guide to realizing proper navigation in a React Native application
using ClojureScript and shadow-cljs</em></p>
<p style="text-align: right">
  <a href="https://github.com/svdo/CLJSReactNativeNavigation" target="sourcecode">
  <i class="fab fa-github" style="font-size: 200%">&nbsp;</i>Source code for this post</a></p>
<p>That‚Äôs a big bunch of words. Let me briefly introduce them to you, so that I can
then dive deeper into some of them. ‚ÄúBeginner‚Äù in this case means that, a week
before I started doing this, I had practically zero experience with
Clojure(Script) and React Native. I do have quite a bit of experience using
React, and also writing native iOS applications (Swift/Objective-C).</p>
<p>‚ÄúGuide‚Äù means that I‚Äôm going to explain to you how I accomplished my goal.
You‚Äôll have to interpret it and follow along if you want to do the same. Future
versions of any of the tools may break this guide.</p>
<p><a href="https://wix.github.io/react-native-navigation">React Native Navigation</a> is a framework for <a href="https://facebook.github.io/react-native">React Native</a>. Which is a
framework for building cross-platform apps for iOS and Android using JavaScript,
but you probably already knew that part. <a href="https://clojurescript.org">ClojureScript</a> is a functional
programming language. It‚Äôs a variant of Clojure that compiles to JavaScript.
‚ÄúProper navigation‚Äù is, admittedly, a bit subjective; I‚Äôll explain this part in
more detail below. Finally, <a href="http://shadow-cljs.org">shadow-cljs</a> is the toolchain I used
as an easy way to integrate a bunch of ClojureScript code into an originally
Javascript-based project.</p>
<p>A summary of this guide is:</p>
<ol>
<li>Setup a new React Native project (using <code class="language-text">react-native</code> cli).</li>
<li>Add shadow-cljs to be able to use ClojureScript in that project.</li>
<li>Add and setup <code class="language-text">react-native-navigation</code> dependency.</li>
<li>Create a bit of infrastructure on the ClojureScript side to be able to use
the React Native Navigation APIs while using shadow-cljs‚Äô hot reloading.</li>
</ol>
<p>So let‚Äôs get started. I executed all these steps exactly as I‚Äôm describing here,
the result of which you can find in <a href="https://github.com/svdo/CLJSReactNativeNavigation">my GitHub repo</a>. Commit messages
include all details about the commands I used. If you want to read my
rant about wanting to use native navigation, keep reading till the very end of
this post :)</p>
<blockquote>
<p>Please note that this post <em>does not</em> include all the code that you need
to make it work, that would be too much for a web page. Please refer to
<a href="https://github.com/svdo/CLJSReactNativeNavigation">the final solution in my GitHub repo</a> if you want to reproduce all of it.</p>
</blockquote>
<h1 id="1-create-react-native-project"><a href="#1-create-react-native-project" aria-label="1 create react native project permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Create React Native Project</h1>
<p>This step is very easy. First, if you haven‚Äôt got it yet, install
<code class="language-text">react-native-cli</code>:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g react-native-cli</code></pre></div>
<p>Then create a new project:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">react-native init CLJSReactNativeNavigation</code></pre></div>
<p>So far so good, nothing new here, let‚Äôs move on.</p>
<h1 id="2-add-shadow-cljs"><a href="#2-add-shadow-cljs" aria-label="2 add shadow cljs permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Add shadow-cljs</h1>
<p>We‚Äôre going to use the standalone version of shadow-cljs,
<a href="https://shadow-cljs.github.io/docs/UsersGuide.html#_build_tool_integration">as recommended</a>. So we add the npm dependency for shadow-cljs:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> --dev shadow-cljs</code></pre></div>
<p>Now we need to configure shadow-cljs a bit. We create a file called
<code class="language-text">shadow-cljs.edn</code> and give it the following content:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">{</span><span class="token operator">:source-paths</span>
 <span class="token punctuation">[</span><span class="token string">"src/main"</span>                     <span class="token comment">;; production code</span>
  <span class="token string">"src/test"</span><span class="token punctuation">]</span>                    <span class="token comment">;; yes we're going to add tests as well!</span>

 <span class="token operator">:dependencies</span>
 <span class="token punctuation">[</span><span class="token punctuation">[</span>reagent <span class="token string">"0.8.1"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

 <span class="token operator">:builds</span>
 <span class="token punctuation">{</span><span class="token operator">:myapp</span>                         <span class="token comment">;; the target definition</span>
  <span class="token punctuation">{</span><span class="token operator">:target</span> <span class="token operator">:react-native</span>         <span class="token comment">;; the target type</span>
   <span class="token operator">:init-fn</span> myapp/init           <span class="token comment">;; react native's entry point</span>
   <span class="token operator">:output-dir</span> <span class="token string">"build"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>        <span class="token comment">;; where to put the built JS</span></code></pre></div>
<p>This is telling shadow-cljs that there is a target called ‚Äúmyapp‚Äù, that
it‚Äôs a React Native target, that the entry point of our app is the function
<code class="language-text">init</code> in the <code class="language-text">myapp</code> namespace, and that the output should be written to the
folder <code class="language-text">build</code>.</p>
<p>Now let‚Äôs create that <code class="language-text">myapp</code> namespace. In <code class="language-text">src/main</code> create a file called
<code class="language-text">myapp.cljs</code> with the following contents:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span><span class="token keyword">ns</span> myapp
  <span class="token punctuation">(</span><span class="token operator">:require</span> <span class="token punctuation">[</span>reagent.core <span class="token operator">:as</span> r <span class="token operator">:refer</span> <span class="token punctuation">[</span>atom<span class="token punctuation">]</span><span class="token punctuation">]</span>
            <span class="token punctuation">[</span><span class="token string">"react-native"</span> <span class="token operator">:as</span> rn <span class="token operator">:refer</span> <span class="token punctuation">[</span>AppRegistry<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> app-root <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span>:<span class="token keyword">></span> rn/View <span class="token punctuation">{</span><span class="token operator">:style</span> <span class="token punctuation">{</span><span class="token operator">:flex-direction</span> <span class="token string">"column"</span>
                       <span class="token operator">:margin</span> <span class="token number">40</span>
                       <span class="token operator">:align-items</span> <span class="token string">"center"</span>
                       <span class="token operator">:background-color</span> <span class="token string">"white"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

   <span class="token punctuation">[</span>:<span class="token keyword">></span> rn/Text <span class="token punctuation">{</span><span class="token operator">:style</span> <span class="token punctuation">{</span><span class="token operator">:font-size</span> <span class="token number">30</span>
                        <span class="token operator">:font-weight</span> <span class="token string">"100"</span>
                        <span class="token operator">:margin-bottom</span> <span class="token number">20</span>
                        <span class="token operator">:text-align</span> <span class="token string">"center"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token string">"Hi Shadow!"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> init <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span>.registerComponent AppRegistry
                      <span class="token string">"CLJSReactNativeNavigation"</span>
                      #<span class="token punctuation">(</span>r/reactify-component app-root<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>Time to check this out! Run the following commands in your terminal:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> shadow-cljs compile myapp
<span class="token function">yarn</span> react-native run-ios</code></pre></div>
<p>Tada!</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 545px;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 176.88073394495413%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsSAAALEgHS3X78AAADNklEQVRIx+2WS0hbURCGz402iWmMhbzM07w00khN6LalKEhXLrtqtxV0WQRXLoSulIrgRkyxbroxan0ghCYGwUVpqQ1BSUSUEFw0ouvEPMx05vRee7FSqlLowgPDnHvPnO/+55HMMCY2hULBrts6Ojp+PajVanKC+PjM6XSGvV7vtNFoDNtstt/MbreHTSZT2O12T2PcW6VS+ZwmNjc3M3zPWHt7uyTtRX9/P2xubsLW1hb09vaCVqsFDAQM5EZ9nU4HXV1dkEwmIRqNQl9fH6hUqpcE8Pv9CjYwMMCBZrM5kslkAFsBrXJ0dFSOxWLlRCJRXl9f554sHo+XDw8PyxRTKBSKqVQKXC7XGq1yeHhYwUZHRwmobGlp+bC9vU3ASrVaraEng1qtBqVSCYrFIpyenoLYapVKhcar2WwWfD7fR2RoFhcXBba6ukr7dxf3Lrqzs3MOPDs7A/RAXt6XvePA/f19wL2MESMSiUhnwUyo8KsIrIoKubrLjJoEPDg4OAfOz88LbHZ2lqg6h8MRvQEwjgwtXzK+JIVGVPj5IvBPTQ7EPUzRzZHfTSsCv8mA8BdAkAHTyHBykqjQjIfy6YoKuROBGWS45EBSmLyiQvke0pLtnCUCLajwy3X30OPxJJBxb2ZmRsHGxsboYmvxlNfk9/CKCvkpz83NCWx8fJyAagSu3ADI7+HCwoLAJiYmCKj6F8Dl/w7If3q3Cm9P+VbhTYHXynqTk5MciH+wy1KipyROE6ScfJmJH+V5GVMABy4tLQlsZGSEAy0Wy8ru7i4BSyRAZrULz3Ir53I5QDH0B6uZmpoSWE9Pj4AwpSAIr4eGhuD4+Bjy+TycnJwAfQBrGdjY2OBG/XQ6zcekGBQEdXV1b5qamtTd3d0CQzpDmBK/EMTS7B2Wa2lMWBkyLN/29Hp91qA3ZLG8y1LfarXuSeMYm8HK6z3OfUirDAQCP5MyAql6aETzoT1Be4r2SNOgeRXsDOZDwVCu1deaC9wPfG/UNg7i2GMxhmLbaK7IwHRnsXBfX19PJd0dVKDGOrDBYDCo7Da7ofNBZwihQX+bP4jAkNPhRMF6FcVQLM3BlXEGroj9ACFKGoB1Yrb4AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;"></span>
    <picture>
        <source srcset="/static/d72abc30f3bffb6109f050d2ed9661db/cc182/hi-shadow.webp 148w,
/static/d72abc30f3bffb6109f050d2ed9661db/f7e40/hi-shadow.webp 295w,
/static/d72abc30f3bffb6109f050d2ed9661db/fa50d/hi-shadow.webp 545w" sizes="(max-width: 545px) 100vw, 545px" type="image/webp">
        <source srcset="/static/d72abc30f3bffb6109f050d2ed9661db/cf440/hi-shadow.png 148w,
/static/d72abc30f3bffb6109f050d2ed9661db/d2d38/hi-shadow.png 295w,
/static/d72abc30f3bffb6109f050d2ed9661db/53236/hi-shadow.png 545w" sizes="(max-width: 545px) 100vw, 545px" type="image/png">
        <img class="gatsby-resp-image-image" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;" src="/static/d72abc30f3bffb6109f050d2ed9661db/53236/hi-shadow.png" alt="Tada!" title>
      </picture>
  </span>
<h2 id="hot-reloading"><a href="#hot-reloading" aria-label="hot reloading permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hot Reloading</h2>
<p>When using shadow-cljs, you also get its variant of hot reloading. You don‚Äôt
need to use the developer menu to enable it, but you do need to add a bit of
code to make it work: (a) you need to had a function that performs the reload,
and (b) you need to enable hot reloading in the config.</p>
<h3 id="add-reload-function"><a href="#add-reload-function" aria-label="add reload function permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add reload function</h3>
<p>Let me just give you the code of <code class="language-text">myapp.cljs</code> and then explain what‚Äôs going on.</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span><span class="token keyword">ns</span> myapp
  <span class="token punctuation">(</span><span class="token operator">:require</span> <span class="token punctuation">[</span>reagent.core <span class="token operator">:as</span> r <span class="token operator">:refer</span> <span class="token punctuation">[</span>atom<span class="token punctuation">]</span><span class="token punctuation">]</span>
            <span class="token punctuation">[</span><span class="token string">"react-native"</span> <span class="token operator">:as</span> rn <span class="token operator">:refer</span> <span class="token punctuation">[</span>AppRegistry<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defonce</span> component-to-update <span class="token punctuation">(</span>atom <span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> content <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span>:<span class="token keyword">></span> rn/Text <span class="token punctuation">{</span><span class="token operator">:style</span> <span class="token punctuation">{</span><span class="token operator">:font-size</span> <span class="token number">30</span>
                       <span class="token operator">:font-weight</span> <span class="token string">"100"</span>
                       <span class="token operator">:margin-bottom</span> <span class="token number">20</span>
                       <span class="token operator">:text-align</span> <span class="token string">"center"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
   <span class="token string">"Hi Shadow!"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> app-root <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span>:<span class="token keyword">></span> rn/View <span class="token punctuation">{</span><span class="token operator">:style</span> <span class="token punctuation">{</span><span class="token operator">:flex-direction</span> <span class="token string">"column"</span>
                       <span class="token operator">:margin</span> <span class="token number">40</span>
                       <span class="token operator">:align-items</span> <span class="token string">"center"</span>
                       <span class="token operator">:background-color</span> <span class="token string">"white"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
   <span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">def</span> updatable-app-root
  <span class="token punctuation">(</span><span class="token keyword">with-meta</span> app-root
    <span class="token punctuation">{</span><span class="token operator">:component-did-mount</span>
     <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>this-as ^js this
                     <span class="token punctuation">(</span>reset! component-to-update this<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> reload <span class="token punctuation">{</span><span class="token operator">:dev</span>/after-load <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span>.forceUpdate ^js @component-to-update<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> init <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span>.registerComponent AppRegistry
                      <span class="token string">"CLJSReactNativeNavigation"</span>
                      #<span class="token punctuation">(</span>r/reactify-component updatable-app-root<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>This is what it does:</p>
<ul>
<li>The text content (‚ÄúHi Shadow!‚Äù) is extracted into a separate component
(<code class="language-text">content</code>), because the call <a href="https://reactjs.org/docs/react-component.html#forceupdate"><code class="language-text">forceUpdate</code></a> that we‚Äôll use
updates everything <em>below</em> the application root component, not the root
component itself.</li>
<li>The app-root component is annotated with a <code class="language-text">component-did-mount</code> handler
(<code class="language-text">updatable-app-root</code>). This handler stores the actual JavaScript object
that represents the root component into the atom <code class="language-text">component-to-update</code>.</li>
<li>A function <code class="language-text">reload</code> is added, which takes the value of that atom and calls
the method <a href="https://reactjs.org/docs/react-component.html#forceupdate"><code class="language-text">forceUpdate</code></a> on it.</li>
</ul>
<p>One final step remains: enabling hot reloading in <code class="language-text">shadow-cljs.edn</code>. It‚Äôs new
content is:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">{</span><span class="token operator">:source-paths</span>
 <span class="token punctuation">[</span><span class="token string">"src/main"</span>                     <span class="token comment">;; production code</span>
  <span class="token string">"src/test"</span><span class="token punctuation">]</span>                    <span class="token comment">;; yes we're going to add tests as well!</span>

 <span class="token operator">:dependencies</span>
 <span class="token punctuation">[</span><span class="token punctuation">[</span>reagent <span class="token string">"0.8.1"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

 <span class="token operator">:builds</span>
 <span class="token punctuation">{</span><span class="token operator">:myapp</span>                         <span class="token comment">;; the target definition</span>
  <span class="token punctuation">{</span><span class="token operator">:target</span> <span class="token operator">:react-native</span>         <span class="token comment">;; the target type</span>
   <span class="token operator">:init-fn</span> myapp/init           <span class="token comment">;; react native's entry point</span>
   <span class="token operator">:output-dir</span> <span class="token string">"build"</span>           <span class="token comment">;; where to put the built JS</span>
   <span class="token operator">:devtools</span> <span class="token punctuation">{</span><span class="token operator">:autoload</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">;; enables hot-reloading</span></code></pre></div>
<p>If you reload the app, changing the text in the <code class="language-text">content</code> component should
cause the app to automatically update!</p>
<h1 id="3-add-react-native-navigation"><a href="#3-add-react-native-navigation" aria-label="3 add react native navigation permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Add React Native Navigation</h1>
<p>This bit is a somewhat tedious I‚Äôm afraid. You‚Äôll have to go through <a href="https://wix.github.io/react-native-navigation/#/docs/Installing">the
instructions to setup React Native Navigation</a>. Add the npm
dependency, update your Xcode project, update iOS source code, update Android
build files, and update Android source code. Tip for Android part: Please don‚Äôt
blindly copy-paste. Some of the instructions refer are not up to date, some
parts are not really needed, etc. If you want you can have a look at
<a href="https://github.com/svdo/CLJSReactNativeNavigation">how I did it</a>.</p>
<p>Obviously you‚Äôll skip the last step of the instructions, namely the part where
the JavaScript code is updated to use React Native Navigation. We‚Äôll address
that in ClojureScript next.</p>
<h1 id="4-integrate-and-wrap"><a href="#4-integrate-and-wrap" aria-label="4 integrate and wrap permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Integrate and Wrap</h1>
<p>Ok, roll up your sleeves, because here comes the interesting part.</p>
<h2 id="wrapper-functionality"><a href="#wrapper-functionality" aria-label="wrapper functionality permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wrapper functionality</h2>
<p>In JavaScript we would need to do something like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Navigation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native-navigation'</span>
Navigation<span class="token punctuation">.</span><span class="token function">registerComponent</span><span class="token punctuation">(</span><span class="token string">'navigation.playground.WelcomeScreen'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> App<span class="token punctuation">)</span>
Navigation<span class="token punctuation">.</span><span class="token function">events</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerAppLaunchedListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  Navigation<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    root<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      component<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'navigation.playground.WelcomeScreen'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Obviously in ClojureScript we need to do something similar. There‚Äôs a problem
though: we need a handle to the actual JavaScript component in order to call
<code class="language-text">forceUpdate</code> on it (for hot reloading). React Native Navigation has made the
design choice that it creates new root components for screens that you push
on the navigation stack. So also for those components we need a handle and
call <code class="language-text">forceUpdate</code>. We accomplish this by not registering the component itself
with <code class="language-text">Navigation</code>, but a wrapper of that component.</p>
<p>This causes another problem though. React Native Navigation gives components
that you register a <code class="language-text">componentId</code>. It uses this for its internal registration
so that it can make navigation work. For example, when you push a new screen
onto the navigation stack, it uses the <code class="language-text">componentId</code> to find the screen from
which you are pushing. The problem is that we registered the <em>wrapper</em>, but
we‚Äôre navigating from the <em>wrapped component</em>. Which does not have a
<code class="language-text">componentId</code>, because we never registered it with <code class="language-text">Navigation</code>. Solution:
make the wrapper in such a way that it passes its <code class="language-text">componentId</code> on to the
wrapped component.</p>
<p>But there is more! React Native Navigation defines some additional life cycle
methods, such as <code class="language-text">navigationButtonPressed</code>. And for that to work, you need
to call <a href="https://wix.github.io/react-native-navigation/#/docs/events?id=navigationbuttonpressed-event"><code class="language-text">Navigation.bindComponent</code></a>. So our wrapper also calls
<code class="language-text">bindComponent</code> and forwards <code class="language-text">navigationButtonPressed</code>. Forwarding other
life cycle methods is left as an exercise for the reader.</p>
<p>Here‚Äôs the main code for the wrapper (<a href="https://github.com/svdo/CLJSReactNativeNavigation/blob/master/src/main/env.cljc">full version</a>):</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token comment">;; current namespace is `env`</span>

<span class="token punctuation">(</span><span class="token keyword">defonce</span> id-seq-ref <span class="token punctuation">(</span>atom <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">defonce</span> mounted-ref <span class="token punctuation">(</span>atom <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">defonce</span> screens-ref <span class="token punctuation">(</span>atom <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> register <span class="token punctuation">[</span><span class="token keyword">key</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>get-props
        <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span>this<span class="token punctuation">]</span>
          <span class="token punctuation">{</span><span class="token operator">::key</span> <span class="token keyword">key</span>
           <span class="token operator">::id</span> <span class="token punctuation">(</span><span class="token keyword">-></span> this .-state .-id<span class="token punctuation">)</span>
           <span class="token operator">:component-id</span> <span class="token punctuation">(</span><span class="token keyword">-></span> this .-props .-componentId<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

        wrapper
        <span class="token punctuation">(</span>crc #js                    <span class="token comment">;; crc is create-react-class</span>
              <span class="token punctuation">{</span><span class="token operator">:displayName</span>
               <span class="token punctuation">(</span><span class="token keyword">str</span> <span class="token keyword">key</span> <span class="token string">"Wrapper"</span><span class="token punctuation">)</span>

               <span class="token operator">:getInitialState</span>
               <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>id <span class="token punctuation">(</span>swap! id-seq-ref <span class="token keyword">inc</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> #js <span class="token punctuation">{</span><span class="token operator">:key</span> <span class="token keyword">key</span>
                             <span class="token operator">:id</span> id<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

               <span class="token operator">:componentDidMount</span>
               <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span>this-as
                  ^js this

                  <span class="token punctuation">(</span>bind-component this<span class="token punctuation">)</span>
                  <span class="token punctuation">(</span>swap! mounted-ref
                         assoc-in <span class="token punctuation">[</span><span class="token keyword">key</span> <span class="token punctuation">(</span><span class="token keyword">-></span> this .-state .-id<span class="token punctuation">)</span><span class="token punctuation">]</span> this<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

               <span class="token operator">:componentWillUnmount</span>
               <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span>this-as
                  ^js this

                  <span class="token punctuation">(</span>swap! mounted-ref update <span class="token keyword">key</span> <span class="token keyword">dissoc</span> <span class="token punctuation">(</span><span class="token keyword">-></span> this .-state .-id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


               <span class="token comment">;; FIXME: forward other lifecycles the same way</span>
               <span class="token operator">:navigationButtonPressed</span>
               <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span>this-as
                  ^js this

                  <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token operator">:keys</span> <span class="token punctuation">[</span>navigation-button-pressed<span class="token punctuation">]</span><span class="token punctuation">}</span>
                        <span class="token punctuation">(</span><span class="token keyword">get</span> @screens-ref <span class="token keyword">key</span><span class="token punctuation">)</span>

                        props
                        <span class="token punctuation">(</span>get-props this<span class="token punctuation">)</span><span class="token punctuation">]</span>

                    <span class="token punctuation">(</span>js/console.log <span class="token string">"navigationButtonPressed"</span>
                                    <span class="token keyword">key</span>
                                    <span class="token punctuation">(</span><span class="token keyword">boolean</span> navigation-button-pressed<span class="token punctuation">)</span>
                                    <span class="token punctuation">(</span><span class="token keyword">pr-str</span> props<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">(</span><span class="token keyword">when</span> navigation-button-pressed
                      <span class="token punctuation">(</span>navigation-button-pressed props<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

               <span class="token operator">:componentDidAppear</span>
               <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span>this-as
                  ^js this

                  <span class="token punctuation">(</span>js/console.log <span class="token string">"componentDidAppear"</span> <span class="token keyword">key</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

               <span class="token operator">:componentDidDisappear</span>
               <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span>this-as
                  ^js this

                  <span class="token punctuation">(</span>js/console.log <span class="token string">"componentDidDisappear"</span> <span class="token keyword">key</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

               <span class="token operator">:render</span>
               <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                 <span class="token punctuation">(</span>this-as
                  ^js this

                  <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token operator">:keys</span> <span class="token punctuation">[</span>render<span class="token punctuation">]</span><span class="token punctuation">}</span>
                        <span class="token punctuation">(</span><span class="token keyword">get</span> @screens-ref <span class="token keyword">key</span><span class="token punctuation">)</span>

                        props
                        <span class="token punctuation">(</span>get-props this<span class="token punctuation">)</span><span class="token punctuation">]</span>

                    <span class="token punctuation">(</span>js/console.log <span class="token string">"render"</span> <span class="token keyword">key</span> <span class="token punctuation">(</span><span class="token keyword">pr-str</span> props<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">(</span><span class="token keyword">-></span> <span class="token punctuation">(</span>render props<span class="token punctuation">)</span>
                        <span class="token punctuation">(</span>r/as-element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

    <span class="token punctuation">(</span>register-component <span class="token keyword">key</span> <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> wrapper<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>This stores the mounted components in <code class="language-text">mounted-ref</code>, which we can then use
for the hot reloading:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span><span class="token keyword">defn</span> reload <span class="token punctuation">{</span><span class="token operator">:dev</span>/after-load <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">doseq</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">key</span> instances<span class="token punctuation">]</span> @mounted-ref
          <span class="token punctuation">[</span>id inst<span class="token punctuation">]</span> instances<span class="token punctuation">]</span>
    <span class="token punctuation">(</span>js/console.log <span class="token string">"forceUpdate"</span> <span class="token keyword">key</span> id<span class="token punctuation">)</span>
    <span class="token punctuation">(</span>.forceUpdate ^js inst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>The <code class="language-text">register</code> method uses an atom <code class="language-text">screens-ref</code> to forward life cycle methods,
so we need to provide a function for screens to add themselves:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span><span class="token keyword">defn</span> <span class="token number">add</span>-screen <span class="token punctuation">[</span><span class="token keyword">key</span> screen-<span class="token number">def</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span>swap! screens-ref <span class="token keyword">assoc</span> <span class="token keyword">key</span> screen-<span class="token number">def</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<h2 id="using-it"><a href="#using-it" aria-label="using it permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using it</h2>
<p>Initially, in <code class="language-text">myapp/init</code> we called React Native‚Äôs <code class="language-text">registerComponent</code>. Now
we call our <code class="language-text">env/register</code> instead. We could just call <code class="language-text">(env/register &quot;App&quot;)</code>,
but we want to pass some options for the navigation bar.</p>
<p>Furthermore we need to call the <code class="language-text">Navigation.events().registerAppLaunchedListener</code>
JavaScript function to set the navigation root for our app.</p>
<p>The <code class="language-text">init</code> function is now:</p>
<div class="gatsby-highlight" data-language="clojure"><pre class="language-clojure"><code class="language-clojure"><span class="token punctuation">(</span><span class="token keyword">defn</span> init <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span>env/register <span class="token string">"App"</span>
                <span class="token punctuation">{</span><span class="token operator">:topBar</span> <span class="token punctuation">{</span><span class="token operator">:visible</span> <span class="token string">"true"</span>
                          <span class="token operator">:title</span> <span class="token punctuation">{</span><span class="token operator">:text</span> <span class="token string">"My App"</span><span class="token punctuation">}</span>
                          <span class="token operator">:rightButtons</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token operator">:id</span> <span class="token string">"add"</span> <span class="token operator">:systemItem</span> <span class="token string">"add"</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token punctuation">(</span><span class="token keyword">-></span> <span class="token punctuation">(</span>rnn/Navigation.events<span class="token punctuation">)</span>
      <span class="token punctuation">(</span>.registerAppLaunchedListener
       <span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
         <span class="token punctuation">(</span><span class="token keyword">->></span> <span class="token punctuation">{</span><span class="token operator">:root</span>
               <span class="token punctuation">{</span><span class="token operator">:stack</span>
                <span class="token punctuation">{</span><span class="token operator">:children</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token operator">:component</span> <span class="token punctuation">{</span><span class="token operator">:name</span> <span class="token string">"App"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
              <span class="token punctuation">(</span>clj->js<span class="token punctuation">)</span>
              <span class="token punctuation">(</span>rnn/Navigation.setRoot<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<h1 id="credits"><a href="#credits" aria-label="credits permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Credits</h1>
<p>That‚Äôs it! Done! Just four simple, easy, almost trivial steps! Well maybe not
so trivial. I guess a ClojureScript beginner couldn‚Äôt have come up with this.
Well, in fact I <em>am</em> a ClojureScript beginner and I <em>did not</em> come up with this
solution myself. All the credits go to <a href="https://github.com/thheller">Thomas Heller</a>, the author of
<a href="http://shadow-cljs.org">shadow-cljs</a>. He has been amazing in his support by answering
all of my beginner-level questions, and then he ended up conjuring this
solution and committing it to my repository. He actually spent hours on this
I believe, and that level of support from a community is truly awesome
(and rare). He doesn‚Äôt seem to be advertising it very much, but you can become
his <a href="https://www.patreon.com/thheller">patreon</a>.</p>
<h1 id="why-react-native-navigation"><a href="#why-react-native-navigation" aria-label="why react native navigation permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why React Native Navigation</h1>
<p>What‚Äôs special about React Native Navigation is that it is implemented using the
real platform native components, specifically
<a href="https://developer.apple.com/documentation/uikit/uinavigationcontroller"><code class="language-text">UINavigationController</code></a> on
iOS. I seem to be at odds with most of the rest of the world on this, but I
happen to think that it is very important to present the user with an
experience that is (as much as possible) identical to that of native apps. You
shouldn‚Äôt be able to tell from the user experience whether the app was written
using native technology or cross platform technology. Not even when you update
your OS to a new major version. So if my app uses a navigation stack, it has to
be the native one. Maybe I‚Äôm more sensitive to this then others, but I get
really upset by apps that don‚Äôt support the normal gesture for going back up the
navigation stack. I also get annoyed when the animation that is used while going
back is slightly non-standard. Using the native components is the only way to
accomplish that. Other components can come close, but not close enough for me.</p>
<h3 id="versions"><a href="#versions" aria-label="versions permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Versions</h3>
<p>Like I said in the beginning, future versions of any of the tools may break
this guide. So it is only fair to mention which versions I was using for this:</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>11.10.1</td>
</tr>
<tr>
<td>npm</td>
<td>6.5.0-next.0</td>
</tr>
<tr>
<td>react</td>
<td>16.8.3</td>
</tr>
<tr>
<td>react-native</td>
<td>0.59.3</td>
</tr>
<tr>
<td>react-native-cli</td>
<td>2.0.1</td>
</tr>
<tr>
<td>react-native-navigation</td>
<td>2.16.0</td>
</tr>
<tr>
<td>shadow-cljs</td>
<td>2.8.26</td>
</tr>
<tr>
<td>Xcode</td>
<td>10.2</td>
</tr>
<tr>
<td>iOS SDK</td>
<td>12.2</td>
</tr>
<tr>
<td>Android SDK</td>
<td>API levels 26, 27, 28</td>
</tr>
<tr>
<td></td>
<td>Build tools 27.0.3, 28.0.3</td>
</tr>
<tr>
<td></td>
<td>System images: android-28</td>
</tr>
</tbody>
</table></div></section></article></main></div><footer class="Footer__FooterWrapper-sc-1oxe0wr-0 hFicPH"><nav><div class="footer-col"><h5 class="footer-title">040 code ¬© 2019</h5><span class="footer-item">Build with <i></i><a class="footer-link" href="https://www.gatsbyjs.org/">Gatsby</a></span></div><div class="footer-col"><h5 class="footer-title">Blog</h5><span class="footer-item"><a class="footer-link" href="/">home</a></span><span class="footer-item"><a class="footer-link" href="/about">about</a></span></div><div class="footer-col"><h5 class="footer-title">Source</h5><span class="footer-item"><i></i><a class="footer-link" href="https://github.com/040code/">Github</a></span></div></nav></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-97020149-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2019-04-02-react-native-navigation-and-clojurescript-f04","path":"/2019/04/02/react-native-navigation-and-clojurescript"};window.dataPath="113/path---2019-04-02-react-native-navigation-and-clojurescript-f-04-9c4-RnsdsQeuJjfwQFmJiLQVuk4hU";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-621948f53dbdfc1c8bad.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-e7d83f3aca32b19d7eca.js"],"component---src-templates-blog-list-template-js":["/component---src-templates-blog-list-template-js-4244168454bdd7b6ce63.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-6e52eeb3246ca14c1467.js"],"component---src-templates-page-js":["/component---src-templates-page-js-abf7edb15f3db38b2f92.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-246b5f3ef84605384230.js"],"component---src-templates-authors-js":["/component---src-templates-authors-js-92815d20e671579c92f3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-11c3986ca33f38cfb2b8.js"],"pages-manifest":["/pages-manifest-d100a743a9d601d09545.js"]};/*]]>*/</script><script src="/webpack-runtime-7d3f5bd1a5fa2448fa61.js" async=""></script><script src="/styles-13d2ee47eddc5325ccbc.js" async=""></script><script src="/1-90cb61cfcc26a11cdeca.js" async=""></script><script src="/3-4d73c1baf9953aba24ed.js" async=""></script><script src="/app-621948f53dbdfc1c8bad.js" async=""></script><script src="/component---src-templates-blog-post-js-6e52eeb3246ca14c1467.js" async=""></script></body></html>